# stringmatch
This script counts number of png files with file names that match specific string conditions. In this case, file names of png's are generated by date and time of collection of CPICS images. The goal is to match CPICS imagery to concurrent CTD variables using date and time information, calculate plankton concentrations, and create data visualizations.

Workflow:
- Download data from CPICS into 'cpics_img' in the office Mac Desktop
- Download lists of annotation into 'TS.Master_selection'
- Run img_distributor.md to copy annotated images into class folders and unclassified folder
- - Define date in lines 77 and 148 to exclude records previously processed
- Run getmajorandminoraxis2024_4_PH.py to extract deep features:
- - No need to change anything in the code
- - Run code on terminal: python getmajorandminoraxis2024_4_PH.py
- - A prompt will appear for selecting the folder where images are
- - A .csv table with deep features will be saved in directory as ellipse_data_*.csv
- Run photometa_pycode.Rmd for images in 'selected' or photometa_pycode_per_taxa.Rmd in 'selected_per_class' to merge image records with cruise data and deep feature tables
- Place ecotaxa_sfer-mbon.tsv (ecotaxa_*_sfer-mbon.tsv for selected_per_class) into 'selected' (or selected_per_class) folder containing all annotated images and zip compress
- Upload to Ecotaxa
- If metadata will be updated the ecotaxa_import.tsv file must be zip compressed, otherwise Ecotaxa does not recognize it.
